@model Model.ViewModels.AdminModel

@{
    ViewBag.Title = "Admin";
    Layout = "_Layout";
}
@Html.AntiForgeryToken()
<table class="table">
    <thead>
    <th scope="col">Linjer</th>
    <th scope="col">Pasasjer Typer</th>
    <th scope="col">Avreiser</th>
    </thead>
    <tbody>
    <tr>
        <th>
        </th>
        <th>
            @Html.ActionLink("Add Type", "AddPT", "Admin",
                            new {@class = "btn btn-primary"})</th>
        <th >
            @Html.ActionLink("Add Avgang", "AddDeparture", "Admin",
                new {@class = "btn btn-primary"})</th>
    </tr>
    @for (int i = 0; i < Model.Departures.Count; i++)
    {
        <tr>
            <th class="w-25">
                 @if (i < @Model.Lines.Count)
                 {
                     <div class="ticket">
                         <div>
                             <label>ID: </label>
                             @Html.DisplayFor(model => model.Lines[i].Id)
                             <br/>
                             <label>Stasjons navn: </label>
                             @Html.DisplayFor(model => model.Lines[i].Name)
                             <br/>
                             @Html.ActionLink("Endre Linje", "EditLine", "Admin",
                                 new {id = Model.Lines[i].Id}, new {@class = "btn btn-primary"})
                         </div>
                     </div>
                 }
            </th>
            <th class="w-25">
                @if (i < @Model.Types.Count)
                {
                    <div class="ticket">
                        <label>ID: </label>
                        @Html.DisplayFor(model => model.Types[i].Id)
                        <br/>
                        <label>Passasjer type: </label>
                        @Html.DisplayFor(model => model.Types[i].Type)
                        <br/>

                        @Html.ActionLink("Endre Type", "EditPassengerType", "Admin",
                            new {id = Model.Types[i].Id}, new {@class = "btn btn-primary"})
                        
                        @Html.ActionLink("Slett Type", "DeletePT", "Admin",
                                                                            new {id = Model.Types[i].Id}, new {@class = "btn btn-primary"})

                    </div>
                }
            </th>

            <th>
                @if (i < @Model.Departures.Count)
                {
                    <div class="ticket">
                        <label>ID: </label>
                        @Html.DisplayFor(model => model.Departures[i].Id)
                        <br/>
                        <label>Avreise: </label>
                        @Html.DisplayFor(model => model.Departures[i].DepartureTime)
                        <br/>

                        @Html.ActionLink("Endre Avreise", "EditDeparture", "Admin",
                            new {id = Model.Departures[i].Id}, new {@class = "btn btn-primary"})
                        
                        @Html.ActionLink("Slett Avgang", "DeleteDeparture", "Admin",
                                                                            new {id = Model.Departures[i].Id}, new {@class = "btn btn-primary"})

                    </div>
                }
            </th>
        </tr>
    }
    </tbody>
</table>